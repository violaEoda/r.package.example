name: learn-github-actions
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Setup R 🔧
        uses: r-lib/actions/setup-r@v2
      - name: Install dplyr package
        run: Rscript -e 'install.packages("dplyr")'
      - name: Use dplyr
        run: Rscript -e 'library("dplyr"); slice(mtcars, 1)'
      - name: Checkout repo 🛎
        # We're using an official GitHub Action.
        uses: actions/checkout@v2
        
      # Build a package stored in a directory called ${{ github.event.repository.name }}
      # --no-manual --no-build-vignettes because this requires LaTeX.
      - name: Build R package 🏗
        run: |
          R CMD build --no-manual --no-build-vignettes ${{ github.event.repository.name }}
          ls -l
        shell: bash
      - name: Use helper function
        run: Rscript -e 'join_and(c("Max", "Moritz"))'
